# パスワード強度要件

OpenDroneDiaryでは、セキュリティを向上させるためにzxcvbnライブラリを使用してパスワードの強度を評価し、弱すぎるパスワードの設定を防止しています。

## パスワード強度の評価基準

パスワードの強度は0〜4のスコアで評価され、**スコア3以上のパスワードのみ**が受け入れられます。

### スコアの評価基準

- **スコア 0**: 非常に弱い（拒否）
- **スコア 1**: 弱い（拒否）
- **スコア 2**: 不十分（拒否）
- **スコア 3**: 良好（受け入れ）✓
- **スコア 4**: 非常に良好（受け入れ）✓

## 強いパスワードを作成するためのガイドライン

### 推奨事項

1. **長さ**: 12文字以上を推奨
2. **文字の種類**: 以下を組み合わせる
   - 小文字 (a-z)
   - 大文字 (A-Z)
   - 数字 (0-9)
   - 記号 (!@#$%^&*など)

3. **避けるべきパターン**:
   - 一般的な単語（password、123456、qwertyなど）
   - ユーザー名やメールアドレスの一部
   - 生年月日や電話番号
   - 辞書に載っている単語
   - 繰り返しパターン（aaaa、1234など）

### 良いパスワードの例

- `MySecur3P@ssw0rd!2024`
- `Tr0ub4dor&3!`
- `C0rrect-H0rse-B4ttery-St4ple`

### 悪いパスワードの例

- `password123` （一般的すぎる）
- `username123` （ユーザー名を含む）
- `qwerty` （キーボードパターン）
- `12345678` （数字の羅列）

## 実装箇所

パスワード強度の検証は以下の箇所で行われます：

1. **ユーザー登録時** (`/register`)
2. **パスワードリセット時** (`/reset-password`)

## ユーザー体験の向上

- **リアルタイム表示**: パスワード入力時にリアルタイムで強度が表示されます
- **色分け表示**: 
  - 赤: 非常に弱い/弱い
  - オレンジ: 不十分
  - 黄: 普通
  - 緑: 良い
  - 青: 非常に良い
- **具体的なフィードバック**: 改善提案と警告メッセージが表示されます

## 技術詳細

- **ライブラリ**: [zxcvbn](https://github.com/nulab/zxcvbn4j) (Java/Kotlin版)
- **アルゴリズム**: Dropboxが開発したパスワード強度測定アルゴリズム
- **評価要素**: 
  - 文字の種類と長さ
  - 辞書攻撃への耐性
  - パターン認識（キーボード配列、日付パターンなど）
  - ユーザー固有の情報との照合